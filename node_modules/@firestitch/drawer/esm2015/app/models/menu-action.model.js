import { BaseAction } from './base-action';
export class MenuAction extends BaseAction {
    constructor(data = {}) {
        super(data);
        this.actions = [];
        this._isGroup = false;
        if (Array.isArray(data.actions)) {
            this._isGroup = true;
            this.actions = data.actions.map((action) => new MenuAction(action));
        }
        this._label = data.label || '';
    }
    get isGroup() {
        return this._isGroup;
    }
    get label() {
        return this._label;
    }
    updateRouterLink(data) {
        super.updateRouterLink(data);
        if (this.actions.length > 0) {
            this.actions.forEach((action) => {
                action.updateRouterLink(data);
            });
        }
    }
    checkVisibility(data) {
        super.checkVisibility(data);
        if (this.actions.length > 0) {
            this.actions.forEach((action) => {
                action.checkVisibility(data);
            });
        }
        if (this.actions.length > 0) {
            this._visible = this.actions.some((action) => action.visible);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1hY3Rpb24ubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYXBwL21vZGVscy9tZW51LWFjdGlvbi5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSTNDLE1BQU0sT0FBTyxVQUFXLFNBQVEsVUFBVTtJQU94QyxZQUFZLE9BQVksRUFBRTtRQUN4QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFQUCxZQUFPLEdBQWlCLEVBQUUsQ0FBQztRQUlqQixhQUFRLEdBQVksS0FBSyxDQUFDO1FBS3pDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFckIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUNyRTtRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxnQkFBZ0IsQ0FBQyxJQUFJO1FBQzFCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU3QixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUM5QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsQ0FBQyxDQUFDLENBQUE7U0FDSDtJQUNILENBQUM7SUFHTSxlQUFlLENBQUMsSUFBZ0I7UUFDckMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU1QixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUM5QixNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9CLENBQUMsQ0FBQyxDQUFBO1NBQ0g7UUFFRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDL0Q7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlQWN0aW9uIH0gZnJvbSAnLi9iYXNlLWFjdGlvbic7XG5pbXBvcnQgeyBEcmF3ZXJEYXRhIH0gZnJvbSAnLi4vY2xhc3Nlcy9kcmF3ZXItZGF0YSc7XG5cblxuZXhwb3J0IGNsYXNzIE1lbnVBY3Rpb24gZXh0ZW5kcyBCYXNlQWN0aW9uIHtcbiAgcHVibGljIGFjdGlvbnM6IE1lbnVBY3Rpb25bXSA9IFtdO1xuXG4gIHByaXZhdGUgX2xhYmVsOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfaXNHcm91cDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIoZGF0YSk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmFjdGlvbnMpKSB7XG4gICAgICB0aGlzLl9pc0dyb3VwID0gdHJ1ZTtcblxuICAgICAgdGhpcy5hY3Rpb25zID0gZGF0YS5hY3Rpb25zLm1hcCgoYWN0aW9uKSA9PiBuZXcgTWVudUFjdGlvbihhY3Rpb24pKTtcbiAgICB9XG4gICAgdGhpcy5fbGFiZWwgPSBkYXRhLmxhYmVsIHx8ICcnO1xuICB9XG5cbiAgZ2V0IGlzR3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzR3JvdXA7XG4gIH1cblxuICBnZXQgbGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVJvdXRlckxpbmsoZGF0YSkge1xuICAgIHN1cGVyLnVwZGF0ZVJvdXRlckxpbmsoZGF0YSk7XG5cbiAgICBpZiAodGhpcy5hY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuYWN0aW9ucy5mb3JFYWNoKChhY3Rpb24pID0+IHtcbiAgICAgICAgYWN0aW9uLnVwZGF0ZVJvdXRlckxpbmsoZGF0YSk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgcHVibGljIGNoZWNrVmlzaWJpbGl0eShkYXRhOiBEcmF3ZXJEYXRhKSB7XG4gICAgc3VwZXIuY2hlY2tWaXNpYmlsaXR5KGRhdGEpO1xuXG4gICAgaWYgKHRoaXMuYWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uKSA9PiB7XG4gICAgICAgIGFjdGlvbi5jaGVja1Zpc2liaWxpdHkoZGF0YSk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMuYWN0aW9ucy5zb21lKChhY3Rpb24pID0+IGFjdGlvbi52aXNpYmxlKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==