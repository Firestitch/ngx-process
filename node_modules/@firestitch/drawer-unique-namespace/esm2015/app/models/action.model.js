import { FsDrawerAction } from '../helpers/action-type.enum';
import { BaseAction } from './base-action';
import { MenuAction } from './menu-action.model';
export class Action extends BaseAction {
    constructor(data = {}) {
        super(data);
        this._data = null;
        this._close = false;
        this._closeSide = true;
        this._menuActions = [];
        this._component = null;
        this._menuRefName = null;
        this._icon = data.icon || '';
        this._type = data.type || '';
        this._name = data.name || '';
        this._toggle = data.toggle === void 0 ? true : data.toggle;
        this._tooltip = data.tooltip || '';
        this._close = !!data.close;
        this._component = data.component || null;
        this._data = data.data === void 0 ? {} : data.data;
        if (this._type === FsDrawerAction.Component) {
            this._menuRefName = data.name || data.icon;
        }
        if (this._type === FsDrawerAction.Menu && data.closeSide === void 0) {
            this._closeSide = false;
        }
        else {
            this._closeSide = data.closeSide === void 0 ? true : !!data.closeSide;
        }
        if (Array.isArray(data.actions)) {
            this._menuActions = data.actions.map((action) => new MenuAction(action));
        }
    }
    get icon() {
        return this._icon;
    }
    set icon(value) {
        this._icon = value;
    }
    get type() {
        return this._type;
    }
    get toggle() {
        return this._toggle;
    }
    get name() {
        return this._name;
    }
    get tooltip() {
        return this._tooltip;
    }
    set tooltip(value) {
        this._tooltip = value;
    }
    get close() {
        return this._close;
    }
    get closeSide() {
        return this._closeSide;
    }
    get menuActions() {
        return this._menuActions;
    }
    get component() {
        return this._component;
    }
    get data() {
        return this._data;
    }
    set data(value) {
        this._data = value;
    }
    get menuRefName() {
        return this._menuRefName;
    }
    updateRouterLink(data) {
        if (this._visible) {
            super.updateRouterLink(data);
            if (this._menuActions.length > 0) {
                this._menuActions.forEach((action) => {
                    action.updateRouterLink(data);
                });
            }
        }
    }
    checkVisibility(data) {
        super.checkVisibility(data);
        if (this._menuActions.length > 0) {
            this._menuActions.forEach((action) => {
                action.checkVisibility(data);
            });
        }
        if (this.menuActions.length > 0) {
            this._visible = this.menuActions.some((action) => action.visible);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLm1vZGVsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZpcmVzdGl0Y2gvZHJhd2VyLyIsInNvdXJjZXMiOlsiYXBwL21vZGVscy9hY3Rpb24ubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzdELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBR2pELE1BQU0sT0FBTyxNQUFPLFNBQVEsVUFBVTtJQVlwQyxZQUFZLE9BQVksRUFBRTtRQUN4QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFYTixVQUFLLEdBQVEsSUFBSSxDQUFDO1FBSVQsV0FBTSxHQUFZLEtBQUssQ0FBQztRQUN4QixlQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLGlCQUFZLEdBQWlCLEVBQUUsQ0FBQztRQUNoQyxlQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBSW5DLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzNELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztR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QUFJLENBQUMsQ0FBQztnQkFDaEMsQ0FBQyxDQUFDLENBQUE7YUFDSDtTQUNGO0lBQ0gsQ0FBQztJQUVNLGVBQWUsQ0FBQyxJQUFnQjtRQUNyQyxLQUFLLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTVCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ25DLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUE7U0FDSDtRQUVELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNuRTtJQUNILENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZzRHJhd2VyQWN0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hY3Rpb24tdHlwZS5lbnVtJztcbmltcG9ydCB7IEJhc2VBY3Rpb24gfSBmcm9tICcuL2Jhc2UtYWN0aW9uJztcbmltcG9ydCB7IERyYXdlckRhdGEgfSBmcm9tICcuLi9jbGFzc2VzL2RyYXdlci1kYXRhJztcbmltcG9ydCB7IE1lbnVBY3Rpb24gfSBmcm9tICcuL21lbnUtYWN0aW9uLm1vZGVsJztcblxuXG5leHBvcnQgY2xhc3MgQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG4gIHByaXZhdGUgX3Rvb2x0aXA6IHN0cmluZztcbiAgcHJpdmF0ZSBfZGF0YTogYW55ID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBfdG9nZ2xlOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IF90eXBlOiBGc0RyYXdlckFjdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IF9jbG9zZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IF9jbG9zZVNpZGU6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHJlYWRvbmx5IF9tZW51QWN0aW9uczogTWVudUFjdGlvbltdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgX21lbnVSZWZOYW1lID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkgPSB7fSkge1xuICAgIHN1cGVyKGRhdGEpO1xuICAgIHRoaXMuX2ljb24gPSBkYXRhLmljb24gfHwgJyc7XG4gICAgdGhpcy5fdHlwZSA9IGRhdGEudHlwZSB8fCAnJztcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lIHx8ICcnO1xuICAgIHRoaXMuX3RvZ2dsZSA9IGRhdGEudG9nZ2xlID09PSB2b2lkIDAgPyB0cnVlIDogZGF0YS50b2dnbGU7XG4gICAgdGhpcy5fdG9vbHRpcCA9IGRhdGEudG9vbHRpcCB8fCAnJztcbiAgICB0aGlzLl9jbG9zZSA9ICEhZGF0YS5jbG9zZTtcbiAgICB0aGlzLl9jb21wb25lbnQgPSBkYXRhLmNvbXBvbmVudCB8fCBudWxsO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhLmRhdGEgPT09IHZvaWQgMCA/IHt9IDogZGF0YS5kYXRhO1xuXG4gICAgaWYgKHRoaXMuX3R5cGUgPT09IEZzRHJhd2VyQWN0aW9uLkNvbXBvbmVudCkge1xuICAgICAgdGhpcy5fbWVudVJlZk5hbWUgPSBkYXRhLm5hbWUgfHwgZGF0YS5pY29uO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90eXBlID09PSBGc0RyYXdlckFjdGlvbi5NZW51ICYmIGRhdGEuY2xvc2VTaWRlID09PSB2b2lkIDApIHtcbiAgICAgdGhpcy5fY2xvc2VTaWRlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Nsb3NlU2lkZSA9IGRhdGEuY2xvc2VTaWRlID09PSB2b2lkIDAgPyB0cnVlIDogISFkYXRhLmNsb3NlU2lkZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmFjdGlvbnMpKSB7XG4gICAgICB0aGlzLl9tZW51QWN0aW9ucyA9IGRhdGEuYWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gbmV3IE1lbnVBY3Rpb24oYWN0aW9uKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ljb247XG4gIH1cblxuICBzZXQgaWNvbih2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5faWNvbiA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gIH1cblxuICBnZXQgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLl90b2dnbGU7XG4gIH1cblxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIGdldCB0b29sdGlwKCkge1xuICAgIHJldHVybiB0aGlzLl90b29sdGlwO1xuICB9XG5cbiAgc2V0IHRvb2x0aXAodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3Rvb2x0aXAgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCBjbG9zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2xvc2U7XG4gIH1cblxuICBnZXQgY2xvc2VTaWRlKCkge1xuICAgIHJldHVybiB0aGlzLl9jbG9zZVNpZGU7XG4gIH1cblxuICBnZXQgbWVudUFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lbnVBY3Rpb25zO1xuICB9XG5cbiAgZ2V0IGNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50O1xuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cblxuICBzZXQgZGF0YSh2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5fZGF0YSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IG1lbnVSZWZOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9tZW51UmVmTmFtZTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVSb3V0ZXJMaW5rKGRhdGEpIHtcbiAgICBpZiAodGhpcy5fdmlzaWJsZSkge1xuICAgICAgc3VwZXIudXBkYXRlUm91dGVyTGluayhkYXRhKTtcblxuICAgICAgaWYgKHRoaXMuX21lbnVBY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5fbWVudUFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uKSA9PiB7XG4gICAgICAgICAgYWN0aW9uLnVwZGF0ZVJvdXRlckxpbmsoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNoZWNrVmlzaWJpbGl0eShkYXRhOiBEcmF3ZXJEYXRhKSB7XG4gICAgc3VwZXIuY2hlY2tWaXNpYmlsaXR5KGRhdGEpO1xuXG4gICAgaWYgKHRoaXMuX21lbnVBY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX21lbnVBY3Rpb25zLmZvckVhY2goKGFjdGlvbikgPT4ge1xuICAgICAgICBhY3Rpb24uY2hlY2tWaXNpYmlsaXR5KGRhdGEpO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tZW51QWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLl92aXNpYmxlID0gdGhpcy5tZW51QWN0aW9ucy5zb21lKChhY3Rpb24pID0+IGFjdGlvbi52aXNpYmxlKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==