import { __extends } from "tslib";
import { FsDrawerAction } from '../helpers/action-type.enum';
import { BaseAction } from './base-action';
import { MenuAction } from './menu-action.model';
var Action = /** @class */ (function (_super) {
    __extends(Action, _super);
    function Action(data) {
        if (data === void 0) { data = {}; }
        var _this = _super.call(this, data) || this;
        _this._data = null;
        _this._close = false;
        _this._closeSide = true;
        _this._menuActions = [];
        _this._component = null;
        _this._menuRefName = null;
        _this._icon = data.icon || '';
        _this._type = data.type || '';
        _this._name = data.name || '';
        _this._toggle = data.toggle === void 0 ? true : data.toggle;
        _this._tooltip = data.tooltip || '';
        _this._close = !!data.close;
        _this._component = data.component || null;
        _this._data = data.data === void 0 ? {} : data.data;
        if (_this._type === FsDrawerAction.Component) {
            _this._menuRefName = data.name || data.icon;
        }
        if (_this._type === FsDrawerAction.Menu && data.closeSide === void 0) {
            _this._closeSide = false;
        }
        else {
            _this._closeSide = data.closeSide === void 0 ? true : !!data.closeSide;
        }
        if (Array.isArray(data.actions)) {
            _this._menuActions = data.actions.map(function (action) { return new MenuAction(action); });
        }
        return _this;
    }
    Object.defineProperty(Action.prototype, "icon", {
        get: function () {
            return this._icon;
        },
        set: function (value) {
            this._icon = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "type", {
        get: function () {
            return this._type;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "toggle", {
        get: function () {
            return this._toggle;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "tooltip", {
        get: function () {
            return this._tooltip;
        },
        set: function (value) {
            this._tooltip = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "close", {
        get: function () {
            return this._close;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "closeSide", {
        get: function () {
            return this._closeSide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "menuActions", {
        get: function () {
            return this._menuActions;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "component", {
        get: function () {
            return this._component;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "data", {
        get: function () {
            return this._data;
        },
        set: function (value) {
            this._data = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Action.prototype, "menuRefName", {
        get: function () {
            return this._menuRefName;
        },
        enumerable: true,
        configurable: true
    });
    Action.prototype.updateRouterLink = function (data) {
        if (this._visible) {
            _super.prototype.updateRouterLink.call(this, data);
            if (this._menuActions.length > 0) {
                this._menuActions.forEach(function (action) {
                    action.updateRouterLink(data);
                });
            }
        }
    };
    Action.prototype.checkVisibility = function (data) {
        _super.prototype.checkVisibility.call(this, data);
        if (this._menuActions.length > 0) {
            this._menuActions.forEach(function (action) {
                action.checkVisibility(data);
            });
        }
        if (this.menuActions.length > 0) {
            this._visible = this.menuActions.some(function (action) { return action.visible; });
        }
    };
    return Action;
}(BaseAction));
export { Action };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLm1vZGVsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZpcmVzdGl0Y2gvZHJhd2VyLyIsInNvdXJjZXMiOlsiYXBwL21vZGVscy9hY3Rpb24ubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUdqRDtJQUE0QiwwQkFBVTtJQVlwQyxnQkFBWSxJQUFjO1FBQWQscUJBQUEsRUFBQSxTQUFjO1FBQTFCLFlBQ0Usa0JBQU0sSUFBSSxDQUFDLFNBdUJaO1FBbENPLFdBQUssR0FBUSxJQUFJLENBQUM7UUFJVCxZQUFNLEdBQVksS0FBSyxDQUFDO1FBQ3hCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLGtCQUFZLEdBQWlCLEVBQUUsQ0FBQztRQUNoQyxnQkFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixrQkFBWSxHQUFHLElBQUksQ0FBQztRQUluQyxLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzdCLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDN0IsS0FBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUM3QixLQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMzRCxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ25DLEtBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0IsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQztRQUN6QyxLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVuRCxJQUFJLEtBQUksQ0FBQyxLQUFLLEtBQUssY0FBYyxDQUFDLFNBQVMsRUFBRTtZQUMzQyxLQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztTQUM1QztRQUVELElBQUksS0FBSSxDQUFDLEtBQUssS0FBSyxjQUFjLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssS0FBSyxDQUFDLEVBQUU7WUFDcEUsS0FBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7U0FDeEI7YUFBTTtZQUNMLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztTQUN2RTtRQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDL0IsS0FBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLE1BQU0sSUFBSyxPQUFBLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUF0QixDQUFzQixDQUFDLENBQUM7U0FDMUU7O0lBQ0gsQ0FBQztJQUVELHNCQUFJLHdCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQzthQUVELFVBQVMsS0FBYTtZQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNyQixDQUFDOzs7T0FKQTtJQU1ELHNCQUFJLHdCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwwQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3RCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksd0JBQUk7YUFBUjtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQzthQUVELFVBQVksS0FBYTtZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN4QixDQUFDOzs7T0FKQTtJQU1ELHNCQUFJLHlCQUFLO2FBQVQ7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDckIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBUzthQUFiO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDZCQUFTO2FBQWI7WUFDRSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx3QkFBSTthQUFSO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUM7YUFFRCxVQUFTLEtBQVU7WUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDckIsQ0FBQzs7O09BSkE7SUFNRCxzQkFBSSwrQkFBVzthQUFmO1lBQ0UsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzNCLENBQUM7OztPQUFBO0lBRU0saUNBQWdCLEdBQXZCLFVBQXdCLElBQUk7UUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLGlCQUFNLGdCQUFnQixZQUFDLElBQUksQ0FBQyxDQUFDO1lBRTdCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQU07b0JBQy9CLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEMsQ0FBQyxDQUFDLENBQUE7YUFDSDtTQUNGO0lBQ0gsQ0FBQztJQUVNLGdDQUFlLEdBQXRCLFVBQXVCLElBQWdCO1FBQ3JDLGlCQUFNLGVBQWUsWUFBQyxJQUFJLENBQUMsQ0FBQztRQUU1QixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQU07Z0JBQy9CLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUE7U0FDSDtRQUVELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBQyxNQUFNLElBQUssT0FBQSxNQUFNLENBQUMsT0FBTyxFQUFkLENBQWMsQ0FBQyxDQUFDO1NBQ25FO0lBQ0gsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBdkhELENBQTRCLFVBQVUsR0F1SHJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRnNEcmF3ZXJBY3Rpb24gfSBmcm9tICcuLi9oZWxwZXJzL2FjdGlvbi10eXBlLmVudW0nO1xuaW1wb3J0IHsgQmFzZUFjdGlvbiB9IGZyb20gJy4vYmFzZS1hY3Rpb24nO1xuaW1wb3J0IHsgRHJhd2VyRGF0YSB9IGZyb20gJy4uL2NsYXNzZXMvZHJhd2VyLWRhdGEnO1xuaW1wb3J0IHsgTWVudUFjdGlvbiB9IGZyb20gJy4vbWVudS1hY3Rpb24ubW9kZWwnO1xuXG5cbmV4cG9ydCBjbGFzcyBBY3Rpb24gZXh0ZW5kcyBCYXNlQWN0aW9uIHtcbiAgcHJpdmF0ZSBfdG9vbHRpcDogc3RyaW5nO1xuICBwcml2YXRlIF9kYXRhOiBhbnkgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IF90b2dnbGU6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgX3R5cGU6IEZzRHJhd2VyQWN0aW9uO1xuICBwcml2YXRlIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2Nsb3NlOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2Nsb3NlU2lkZTogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgcmVhZG9ubHkgX21lbnVBY3Rpb25zOiBNZW51QWN0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBfY29tcG9uZW50ID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBfbWVudVJlZk5hbWUgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIoZGF0YSk7XG4gICAgdGhpcy5faWNvbiA9IGRhdGEuaWNvbiB8fCAnJztcbiAgICB0aGlzLl90eXBlID0gZGF0YS50eXBlIHx8ICcnO1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWUgfHwgJyc7XG4gICAgdGhpcy5fdG9nZ2xlID0gZGF0YS50b2dnbGUgPT09IHZvaWQgMCA/IHRydWUgOiBkYXRhLnRvZ2dsZTtcbiAgICB0aGlzLl90b29sdGlwID0gZGF0YS50b29sdGlwIHx8ICcnO1xuICAgIHRoaXMuX2Nsb3NlID0gISFkYXRhLmNsb3NlO1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IGRhdGEuY29tcG9uZW50IHx8IG51bGw7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGEuZGF0YSA9PT0gdm9pZCAwID8ge30gOiBkYXRhLmRhdGE7XG5cbiAgICBpZiAodGhpcy5fdHlwZSA9PT0gRnNEcmF3ZXJBY3Rpb24uQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLl9tZW51UmVmTmFtZSA9IGRhdGEubmFtZSB8fCBkYXRhLmljb247XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3R5cGUgPT09IEZzRHJhd2VyQWN0aW9uLk1lbnUgJiYgZGF0YS5jbG9zZVNpZGUgPT09IHZvaWQgMCkge1xuICAgICB0aGlzLl9jbG9zZVNpZGUgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2xvc2VTaWRlID0gZGF0YS5jbG9zZVNpZGUgPT09IHZvaWQgMCA/IHRydWUgOiAhIWRhdGEuY2xvc2VTaWRlO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuYWN0aW9ucykpIHtcbiAgICAgIHRoaXMuX21lbnVBY3Rpb25zID0gZGF0YS5hY3Rpb25zLm1hcCgoYWN0aW9uKSA9PiBuZXcgTWVudUFjdGlvbihhY3Rpb24pKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faWNvbjtcbiAgfVxuXG4gIHNldCBpY29uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pY29uID0gdmFsdWU7XG4gIH1cblxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgfVxuXG4gIGdldCB0b2dnbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvZ2dsZTtcbiAgfVxuXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgZ2V0IHRvb2x0aXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Rvb2x0aXA7XG4gIH1cblxuICBzZXQgdG9vbHRpcCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fdG9vbHRpcCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGNsb3NlKCkge1xuICAgIHJldHVybiB0aGlzLl9jbG9zZTtcbiAgfVxuXG4gIGdldCBjbG9zZVNpZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlU2lkZTtcbiAgfVxuXG4gIGdldCBtZW51QWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVudUFjdGlvbnM7XG4gIH1cblxuICBnZXQgY29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wb25lbnQ7XG4gIH1cblxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHNldCBkYXRhKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl9kYXRhID0gdmFsdWU7XG4gIH1cblxuICBnZXQgbWVudVJlZk5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lbnVSZWZOYW1lO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVJvdXRlckxpbmsoZGF0YSkge1xuICAgIGlmICh0aGlzLl92aXNpYmxlKSB7XG4gICAgICBzdXBlci51cGRhdGVSb3V0ZXJMaW5rKGRhdGEpO1xuXG4gICAgICBpZiAodGhpcy5fbWVudUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl9tZW51QWN0aW9ucy5mb3JFYWNoKChhY3Rpb24pID0+IHtcbiAgICAgICAgICBhY3Rpb24udXBkYXRlUm91dGVyTGluayhkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2hlY2tWaXNpYmlsaXR5KGRhdGE6IERyYXdlckRhdGEpIHtcbiAgICBzdXBlci5jaGVja1Zpc2liaWxpdHkoZGF0YSk7XG5cbiAgICBpZiAodGhpcy5fbWVudUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fbWVudUFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uKSA9PiB7XG4gICAgICAgIGFjdGlvbi5jaGVja1Zpc2liaWxpdHkoZGF0YSk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1lbnVBY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX3Zpc2libGUgPSB0aGlzLm1lbnVBY3Rpb25zLnNvbWUoKGFjdGlvbikgPT4gYWN0aW9uLnZpc2libGUpO1xuICAgIH1cbiAgfVxufVxuIl19