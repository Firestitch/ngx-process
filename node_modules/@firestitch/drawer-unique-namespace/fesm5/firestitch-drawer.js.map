{"version":3,"file":"firestitch-drawer.js","sources":["ng://@firestitch/drawer/app/helpers/action-type.enum.ts","ng://@firestitch/drawer/app/models/base-action.ts","ng://@firestitch/drawer/app/models/menu-action.model.ts","ng://@firestitch/drawer/app/models/action.model.ts","ng://@firestitch/drawer/app/models/drawer-config.model.ts","ng://@firestitch/drawer/app/classes/drawer-ref.ts","ng://@firestitch/drawer/app/components/drawer-menu/drawer-menu.component.ts","ng://@firestitch/drawer/app/classes/drawer-menu-ref.ts","ng://@firestitch/drawer/app/classes/drawer-data.ts","ng://@firestitch/drawer/app/services/drawer-menu-data.ts","ng://@firestitch/drawer/app/services/drawer-menu.service.ts","ng://@firestitch/drawer/app/components/drawer-actions/drawer-actions.component.ts","ng://@firestitch/drawer/app/classes/drawer-size-controller.ts","ng://@firestitch/drawer/app/components/drawer/drawer.component.ts","ng://@firestitch/drawer/app/directives/drawer-action.directive.ts","ng://@firestitch/drawer/app/components/drawer-side/drawer-side.component.ts","ng://@firestitch/drawer/app/components/drawer-actions/drawer-action-item/drawer-action-item.component.ts","ng://@firestitch/drawer/app/components/drawer-content/drawer-content.component.ts","ng://@firestitch/drawer/app/directives/drawer-resizer.directive.ts","ng://@firestitch/drawer/app/services/drawer-data.ts","ng://@firestitch/drawer/app/services/drawer.service.ts","ng://@firestitch/drawer/app/fs-drawer.module.ts","ng://@firestitch/drawer/public_api.ts","ng://@firestitch/drawer/firestitch-drawer.ts"],"sourcesContent":["export enum FsDrawerAction {\n  Button = 'button',\n  Menu = 'menu',\n  Component = 'component',\n}\n","import {\n  IDrawerActionLink,\n  IDrawerActionLinkFn,\n  IDrawerActionShowFn,\n  IMenuActionClick\n} from '../interfaces/action.iterface';\nimport { DrawerData } from '../classes/drawer-data';\n\nexport class BaseAction {\n\n  protected _visible = true;\n  protected _routerLink: IDrawerActionLink;\n\n  protected _icon: string;\n  protected readonly _show: IDrawerActionShowFn;\n  protected readonly _click: Function | null;\n  protected readonly _link: IDrawerActionLinkFn;\n\n  constructor(data: any = {}) {\n    this._icon = data.icon || '';\n    this._click = data.click || null;\n    this._link = data.link;\n    this._show = data.show || null;\n  }\n\n  get icon() {\n    return this._icon;\n  }\n\n  get click() {\n    return this._click;\n  }\n\n  get routerLink() {\n    return this._routerLink;\n  }\n\n  get visible() {\n    return this._visible\n  }\n\n  public checkVisibility(data: DrawerData) {\n    if (this._show) {\n      this._visible = this._show(data);\n    }\n  }\n\n  public updateRouterLink(data: IMenuActionClick) {\n    if (this._visible && this._link) {\n      this._routerLink = this._link(data);\n    }\n  }\n}\n","import { BaseAction } from './base-action';\nimport { DrawerData } from '../classes/drawer-data';\n\n\nexport class MenuAction extends BaseAction {\n  public actions: MenuAction[] = [];\n\n  private _label: string;\n\n  private readonly _isGroup: boolean = false;\n\n  constructor(data: any = {}) {\n    super(data);\n\n    if (Array.isArray(data.actions)) {\n      this._isGroup = true;\n\n      this.actions = data.actions.map((action) => new MenuAction(action));\n    }\n    this._label = data.label || '';\n  }\n\n  get isGroup() {\n    return this._isGroup;\n  }\n\n  get label() {\n    return this._label;\n  }\n\n  public updateRouterLink(data) {\n    super.updateRouterLink(data);\n\n    if (this.actions.length > 0) {\n      this.actions.forEach((action) => {\n        action.updateRouterLink(data);\n      })\n    }\n  }\n\n\n  public checkVisibility(data: DrawerData) {\n    super.checkVisibility(data);\n\n    if (this.actions.length > 0) {\n      this.actions.forEach((action) => {\n        action.checkVisibility(data);\n      })\n    }\n\n    if (this.actions.length > 0) {\n      this._visible = this.actions.some((action) => action.visible);\n    }\n  }\n}\n","import { FsDrawerAction } from '../helpers/action-type.enum';\nimport { BaseAction } from './base-action';\nimport { DrawerData } from '../classes/drawer-data';\nimport { MenuAction } from './menu-action.model';\n\n\nexport class Action extends BaseAction {\n  private _tooltip: string;\n  private _data: any = null;\n  private readonly _toggle: boolean;\n  private readonly _type: FsDrawerAction;\n  private readonly _name: string;\n  private readonly _close: boolean = false;\n  private readonly _closeSide: boolean = true;\n  private readonly _menuActions: MenuAction[] = [];\n  private readonly _component = null;\n  private readonly _menuRefName = null;\n\n  constructor(data: any = {}) {\n    super(data);\n    this._icon = data.icon || '';\n    this._type = data.type || '';\n    this._name = data.name || '';\n    this._toggle = data.toggle === void 0 ? true : data.toggle;\n    this._tooltip = data.tooltip || '';\n    this._close = !!data.close;\n    this._component = data.component || null;\n    this._data = data.data === void 0 ? {} : data.data;\n\n    if (this._type === FsDrawerAction.Component) {\n      this._menuRefName = data.name || data.icon;\n    }\n\n    if (this._type === FsDrawerAction.Menu && data.closeSide === void 0) {\n     this._closeSide = false;\n    } else {\n      this._closeSide = data.closeSide === void 0 ? true : !!data.closeSide;\n    }\n\n    if (Array.isArray(data.actions)) {\n      this._menuActions = data.actions.map((action) => new MenuAction(action));\n    }\n  }\n\n  get icon() {\n    return this._icon;\n  }\n\n  set icon(value: string) {\n    this._icon = value;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get toggle() {\n    return this._toggle;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  get tooltip() {\n    return this._tooltip;\n  }\n\n  set tooltip(value: string) {\n    this._tooltip = value;\n  }\n\n  get close() {\n    return this._close;\n  }\n\n  get closeSide() {\n    return this._closeSide;\n  }\n\n  get menuActions() {\n    return this._menuActions;\n  }\n\n  get component() {\n    return this._component;\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  set data(value: any) {\n    this._data = value;\n  }\n\n  get menuRefName() {\n    return this._menuRefName;\n  }\n\n  public updateRouterLink(data) {\n    if (this._visible) {\n      super.updateRouterLink(data);\n\n      if (this._menuActions.length > 0) {\n        this._menuActions.forEach((action) => {\n          action.updateRouterLink(data);\n        })\n      }\n    }\n  }\n\n  public checkVisibility(data: DrawerData) {\n    super.checkVisibility(data);\n\n    if (this._menuActions.length > 0) {\n      this._menuActions.forEach((action) => {\n        action.checkVisibility(data);\n      })\n    }\n\n    if (this.menuActions.length > 0) {\n      this._visible = this.menuActions.some((action) => action.visible);\n    }\n  }\n}\n","import { Action } from './action.model';\nimport { IDrawerConfig, IDrawerWidthConfig } from '../interfaces/drawer-config.interface';\n\n\nexport class DrawerConfig {\n  public disableClose: boolean;\n  public position: 'right' | 'left';\n  public activeAction: string;\n  public resizable: boolean;\n  public width: IDrawerWidthConfig;\n  public actions: Action[] | null;\n\n  constructor(data: IDrawerConfig = {}) {\n    this.disableClose = data.disableClose || false;\n    this.position = data.position || 'right';\n    this.activeAction = data.activeAction || '';\n\n    this.resizable = data.resizable === void 0 ? true : data.resizable;\n\n    if (data.width) {\n      this.width = data.width;\n    }\n\n    this.actions = data.actions && data.actions.map((action) => new Action(action)) || null;\n  }\n}\n","import { ComponentRef, ElementRef } from '@angular/core';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { OverlayRef } from '@angular/cdk/overlay';\n\nimport { BehaviorSubject, Observable, Subject, Subscriber, zip } from 'rxjs';\nimport { filter, take, takeUntil } from 'rxjs/operators';\n\nimport { DrawerData } from './drawer-data';\nimport { FsDrawerComponent } from '../components/drawer/drawer.component';\nimport { DrawerConfig } from '../models/drawer-config.model';\nimport { DrawerMenuRef } from '../classes/drawer-menu-ref';\nimport { IDrawerConfig } from '../interfaces/drawer-config.interface';\nimport { DrawerSizeController } from './drawer-size-controller';\n\n\nexport class DrawerRef<T, R = any> {\n\n  public readonly drawerConfig: DrawerConfig;\n\n  /** Subject for notifying the user that the drawer has finished opening. */\n  private readonly _afterOpened$ = new Subject<void>();\n\n  /** Subject for notifying the user that the drawer has finished closing. */\n  private readonly _afterClosed$ = new Subject<R | undefined>();\n\n  /** Subject for notifying the user that the drawer has started closing. */\n  private readonly _closeStart$ = new Subject<Subscriber<void>>();\n\n  /** Subject for notifying the user that the drawer has started opening. */\n  private readonly _openStart$ = new Subject<Subscriber<void>>();\n\n  /** Subject for notifying the user that the drawer has started closing. */\n  private readonly _sideToggle = new Subject<boolean>();\n\n  /** Subject for notifying the user that the drawer has finished opening. */\n  private readonly _actionsUpdated$ = new Subject<string>();\n\n  /** Destroy notifier **/\n  private readonly _destroy$ = new Subject<void>();\n\n  /** Result to be passed to afterClosed. */\n  private _result: R | undefined;\n\n  /** Main drawer component and template */\n  private _drawerContainerRef: FsDrawerComponent;\n\n  /** Main drawer component and template */\n  private _drawerComponentRef: ComponentRef<T>;\n\n  /** Drawer Content Template */\n  private _drawerContentContainer: ElementRef;\n\n  /** Drawer Actions Template */\n  private _drawerActionsContainer: ElementRef;\n\n  private _resizeController: DrawerSizeController;\n\n  private _activeAction = new BehaviorSubject<string>(void 0);\n\n  private _menuRefs = new Map<string, DrawerMenuRef<T, R>>();\n\n  private _isOpen = false;\n  private _isSideOpen = false;\n\n\n  constructor(\n    private _overlayRef: OverlayRef,\n    private _dataFactory: DrawerData,\n    _config: IDrawerConfig\n  ) {\n    this.drawerConfig = new DrawerConfig(_config);\n    this._activeAction.next(this.drawerConfig.activeAction);\n  }\n\n  public get overlayRef() {\n    return this._overlayRef;\n  }\n\n  /**\n   * Getter for DRAWER_DATA for current drawer\n   */\n  public get drawerData() {\n    return { ...this._dataFactory.getValue() } // Like immutable.... TODO switch to Immer\n  }\n\n  public get destroy$() {\n    return this._destroy$.asObservable();\n  }\n\n  /**\n   * Set reference to drawer container\n   * @param value\n   */\n  public set containerRef(value: FsDrawerComponent) {\n    this._drawerContainerRef = value;\n  }\n\n  /**\n   * Set reference to drawer component\n   * @param value\n   */\n  public set componentRef(value: ComponentRef<T>) {\n    this._drawerComponentRef = value;\n  }\n\n  public set drawerContentContainer(value: ElementRef) {\n    this._drawerContentContainer = value;\n  }\n\n  public set drawerActionsContainer(value: ElementRef) {\n    this._drawerActionsContainer = value;\n  }\n\n  public get drawerContentContainer(): ElementRef {\n    return this._drawerContentContainer;\n  }\n\n  public get drawerActionsContainer(): ElementRef {\n    return this._drawerActionsContainer;\n  }\n\n  public get activeAction() {\n    return this._activeAction.getValue();\n  }\n\n  public get activeAction$() {\n    return this._activeAction.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Return actual status of the drawer\n   */\n  public get isOpen(): boolean {\n    return this._isOpen;\n  }\n\n  /**\n   * Return actual status of the side of the drawer\n   */\n  public get isSideOpen(): boolean {\n    return this._isSideOpen;\n  }\n\n  public set resizeController(value: DrawerSizeController) {\n    this._resizeController = value;\n  }\n\n  public get resizeController(): DrawerSizeController {\n    return this._resizeController;\n  }\n\n  /**\n   * Gets an observable that action was updated and change detection should be started\n   */\n  public get actionUpdated$(): Observable<string> {\n    return this._actionsUpdated$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished closing.\n   */\n  public get afterClosed$(): Observable<R | undefined> {\n    return this._afterClosed$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished opening.\n   */\n  public get afterOpened$(): Observable<void> {\n    return this._afterOpened$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog open starts.\n   */\n  public get openStart$(): Observable<Subscriber<void>> {\n    return this._openStart$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished opening.\n   */\n  public get closeStart$(): Observable<Subscriber<void>> {\n    return this._closeStart$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when data in DRAWER_DATA was changed\n   */\n  public get dataChanged$(): Observable<any> {\n    return this._dataFactory.dataChange$;\n  }\n\n  /**\n   * Gets an observable that is notify that side status toggled\n   */\n  public get sideToggle$(): Observable<boolean> {\n    return this._sideToggle.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Subscribe on keydown events to react on escape\n   */\n  public events() {\n    this._overlayRef.keydownEvents()\n      .pipe(\n        filter(event => event.keyCode === ESCAPE && !this.drawerConfig.disableClose),\n        takeUntil(this._destroy$),\n      )\n      .subscribe(() => this.close());\n  }\n\n  /**\n   * Set value for DRAWER_DATA\n   * @param data\n   */\n  public dataChange(data) {\n    this._dataFactory.setValue(data);\n  }\n\n  /**\n   * Open drawer and notify observable\n   */\n  public open() {\n    new Observable<void>((obs) => {\n      setTimeout(() => { // FIXME Crutch\n        if (this._openStart$.observers.length) {\n          this._openStart$.next(obs);\n        } else {\n          obs.next();\n          obs.complete();\n        }\n      });\n    }).pipe(takeUntil(this._destroy$))\n      .subscribe({\n        next: () => {\n          if (this.activeAction) {\n            this.openSide();\n          }\n\n          this._drawerContainerRef.open();\n          this._afterOpened$.next();\n          this._afterOpened$.complete();\n        },\n        error: () => {\n          this.destroy();\n        },\n    });\n  }\n\n  /**\n   * Close the drawer.\n   * @param result Optional result to return to the dialog opener.\n   */\n  public close(result?: R): void {\n    new Observable<void>(observer => {\n      if (this._closeStart$.observers.length) {\n        zip(...this._closeStart$.observers.map(item => {\n          return Observable.create(closeObserver => {\n            item.next(closeObserver);\n          });\n        }))\n        .pipe(\n          takeUntil(this._destroy$)\n        )\n        .subscribe(() => {\n          observer.next();\n          observer.complete();\n        }, () => {\n          observer.error();\n        });\n      } else {\n        observer.next();\n        observer.complete();\n      }\n\n    }).pipe(takeUntil(this._destroy$))\n      .subscribe({\n      next: () => {\n        this._drawerContainerRef.close();\n        this._result = result;\n        this._afterClosed$.next(result);\n        this.destroy();\n      }\n    });\n  }\n\n  /**\n   * Open the side of the drawer\n   */\n  public openSide() {\n    this._isSideOpen = true;\n    this._sideToggle.next(this._isSideOpen);\n  }\n\n  /**\n   * Close the side of the drawer\n   */\n  public closeSide() {\n    this._isSideOpen = false;\n    this._sideToggle.next(this._isSideOpen);\n\n    this.setActiveAction(null);\n  }\n\n  /**\n   * Toggle the side of the drawer\n   */\n  public toggleSide() {\n    this.isSideOpen ? this.closeSide() : this.openSide();\n  }\n\n  /**\n   * Change active action\n   * @param name\n   */\n  public setActiveAction(name: string) {\n    this._activeAction.next(name);\n\n    if (name) {\n      this.openSide();\n    }\n  }\n\n  /**\n   * Store opened menu reference and subscribe for auto remove\n   * @param name\n   * @param ref\n   */\n  public addMenuRef(name: string, ref: DrawerMenuRef<T, R>) {\n    this._menuRefs.set(name, ref);\n\n    ref.afterClosed()\n      .pipe(\n        take(1),\n        takeUntil(this._destroy$)\n      )\n      .subscribe(() => {\n        this._menuRefs.delete(name);\n      })\n  }\n\n  /**\n   * Get opened menu reference by name\n   * @param name\n   */\n  public getMenuRef(name: string) {\n    return this._menuRefs.get(name);\n  }\n\n  public getAction(name: string) {\n    return this.drawerConfig.actions.find((action) => action.name === name);\n  }\n\n  /**\n   * Do update for icon for target action\n   * @param name\n   * @param icon\n   */\n  public updateActionIcon(name: string, icon: string) {\n    const action = this.getAction(name);\n\n    if (action) {\n      action.icon = icon;\n\n      this._actionsUpdated$.next(name);\n    }\n  }\n\n  /**\n   * Do update\n   * @param name\n   * @param data\n   */\n  public updateAction(name: string, data) {\n    const action = this.getAction(name);\n\n    if (action) {\n      const allowedFields = ['icon', 'type', 'toggle', 'tooltip', 'close', 'closeSide', 'component', 'data'];\n\n      const forUpdate = Object.keys(data).filter((key) => allowedFields.indexOf(key) > -1);\n\n      forUpdate.forEach((key) => {\n        action[key] = data[key];\n      });\n\n      this._actionsUpdated$.next(name);\n    }\n  }\n\n  public updateDrawerWidth(width: number) {\n    this.resizeController.updateMainWidth(width);\n  }\n\n  public updateSideDrawerWidth(width: number) {\n    this.resizeController.updateSideWidth(width);\n  }\n\n  public destroy() {\n    this._overlayRef.detachBackdrop();\n    this._overlayRef.detach();\n    this._drawerComponentRef.destroy();\n    this._dataFactory.destroy();\n\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n}\n\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentRef,\n  EmbeddedViewRef,\n  ViewChild,\n} from '@angular/core';\nimport {\n  BasePortalOutlet,\n  CdkPortalOutlet,\n  ComponentPortal,\n  TemplatePortal\n} from '@angular/cdk/portal';\nimport { DrawerMenuRef } from '../../classes/drawer-menu-ref';\n\n@Component({\n  selector: 'fs-drawer-menu',\n  templateUrl: 'drawer-menu.component.html',\n  styleUrls: [ 'drawer-menu.component.scss' ],\n  host: {\n    'class': 'mat-elevation-z2'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FsDrawerMenuComponent extends BasePortalOutlet {\n\n  @ViewChild(CdkPortalOutlet, { static: true }) _portalOutlet: CdkPortalOutlet;\n\n  public ref: DrawerMenuRef<any>;\n\n  constructor() {\n    super();\n  }\n\n  public setDrawerMenuRef(value: DrawerMenuRef<any>) {\n    this.ref = value;\n\n    // this.config = this.externalMenuRef.config;\n  }\n\n  /**\n   * Attach a ComponentPortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  public attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n\n    if (this._portalOutlet.hasAttached()) {\n      throw Error('Drawer component already attached');\n    }\n\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  /**\n   * Attach a TemplatePortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  public attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n\n    if (this._portalOutlet.hasAttached()) {\n      throw Error('Drawer template already attached');\n    }\n\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n}\n","import { ComponentRef } from '@angular/core';\nimport { OverlayRef } from '@angular/cdk/overlay';\n\nimport { Observable, Subject, Subscriber, zip } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { FsDrawerMenuComponent } from '../components/drawer-menu/drawer-menu.component';\nimport { DrawerData } from './drawer-data';\n\nexport class DrawerMenuRef<TCmp, R = any> {\n\n  /** Subject for notifying the user that the menu has finished closing. */\n  private readonly _afterClosed$ = new Subject<R | undefined>();\n\n  /** Subject for notifying the user that the menu has started closing. */\n  private readonly _closeStart$ = new Subject<Subscriber<void>>();\n\n  /** Destroy notifier **/\n  private readonly _destroy$ = new Subject<void>();\n\n  /** Result to be passed to afterClosed. */\n  private _result: R | undefined;\n\n  /** Main menu component and template */\n  private _externalMenuContainerRef: FsDrawerMenuComponent;\n\n  /** Main menu component and template */\n  private _externalMenuComponentRef: ComponentRef<TCmp>;\n\n\n  constructor(private _overlayRef: OverlayRef, private _dataFactory: DrawerData) {\n    this._overlayRef.backdropClick()\n      .pipe(\n        takeUntil(this._destroy$),\n      )\n      .subscribe(() => {\n        this.close();\n      })\n  }\n\n  /**\n   * Getter for DRAWER_MENU_DATA for current drawer\n   */\n  get menuData() {\n    return { ...this._dataFactory.getValue() } // Like immutable.... TODO switch to Immer\n  }\n\n  /**\n   * Set reference to menu container\n   * @param value\n   */\n  set containerRef(value: FsDrawerMenuComponent) {\n    this._externalMenuContainerRef = value;\n  }\n\n  /**\n   * Set reference to menu component\n   * @param value\n   */\n  set componentRef(value: ComponentRef<TCmp>) {\n    this._externalMenuComponentRef = value;\n  }\n\n  /**\n   * Gets an observable that is notified when data in DRAWER_DATA was changed\n   */\n  get dataChanged$(): Observable<void> {\n    return this._dataFactory.dataChange$;\n  }\n\n  /**\n   * Set value for DRAWER_DATA\n   * @param data\n   */\n  public dataChange(data) {\n    this._dataFactory.setValue(data);\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished closing.\n   */\n  public afterClosed(): Observable<R | undefined> {\n    return this._afterClosed$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished opening.\n   */\n  public closeStart(): Observable<Subscriber<void>> {\n    return this._closeStart$.pipe(takeUntil(this._destroy$));\n  }\n\n  /**\n   * Close the menu.\n   * @param result Optional result to return to the dialog opener.\n   */\n  public close(result?: R): void {\n    new Observable<void>(observer => {\n      if (this._closeStart$.observers.length) {\n        zip(...this._closeStart$.observers.map(item => {\n          return Observable.create(closeObserver => {\n            item.next(closeObserver);\n          });\n        }))\n        .pipe(\n          takeUntil(this._destroy$)\n        )\n        .subscribe(() => {\n          observer.next();\n          observer.complete();\n        }, () => {\n          observer.error();\n        });\n      } else {\n        observer.next();\n        observer.complete();\n      }\n\n    }).pipe(takeUntil(this._destroy$))\n      .subscribe({\n      next: () => {\n        this._result = result;\n        this._afterClosed$.next(result);\n        this.destroy();\n      }\n    });\n  }\n\n\n  public destroy() {\n    this._overlayRef.detachBackdrop();\n    this._overlayRef.detach();\n    this._externalMenuComponentRef && this._externalMenuComponentRef.destroy();\n\n    this._dataFactory.destroy();\n\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n\n}\n","import { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n\nexport class DrawerData {\n\n  private _data;\n  private _dataChange = new Subject<any>();\n  private _destroy = new Subject<void>();\n\n  constructor(data: any = {}) {\n    this._data = data;\n  }\n\n  public static createWithProxy(data: any = {}) {\n    const drawerData = new DrawerData(data);\n\n    return new Proxy(drawerData, {\n      get(target, property) {\n        if (typeof target[property] === 'function'\n          || property === '_data'\n          || target[property] instanceof Observable\n        ) {\n          return target[property];\n        } else {\n          return target._data[property];\n        }\n      },\n\n      set(target, property, value) {\n        if (property !== '_data') {\n          target._data[property] = value;\n        } else {\n          target[property] = value;\n        }\n\n        return true;\n      },\n\n      has(target, property) {\n        return property in target._data;\n      },\n\n      ownKeys(target) {\n        return Object.keys(target._data);\n      },\n\n      enumerate(target) {\n        return Object.keys(target._data);\n      },\n\n      getOwnPropertyDescriptor(target, property) {\n        return Object.getOwnPropertyDescriptor(target._data, property);\n      }\n    });\n  }\n\n  get dataChange$(): Observable<void> {\n    return this._dataChange.pipe(takeUntil(this._destroy));\n  }\n\n  public getValue() {\n    return this._data;\n  }\n\n  public setValue(value) {\n    this._data = value;\n    this._dataChange.next(this._data);\n  }\n\n  public destroy() {\n    this._destroy.next();\n    this._destroy.complete();\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\n/** Injection token that can be used to access the data that was passed in to a drawer. */\nexport const DRAWER_MENU_DATA = new InjectionToken<any>('fs.drawer.menu-data');\n","import {ElementRef, Injectable, Injector} from '@angular/core';\nimport { ConnectedPosition, Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType, PortalInjector } from '@angular/cdk/portal';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\n\nimport { FsDrawerMenuComponent } from '../components/drawer-menu/drawer-menu.component';\nimport { DrawerMenuRef } from '../classes/drawer-menu-ref';\nimport { DrawerData } from '../classes/drawer-data';\nimport { DRAWER_MENU_DATA } from '../services/drawer-menu-data';\n\n\n@Injectable()\nexport class FsDrawerMenuService {\n\n  constructor(private _overlay: Overlay,\n              private _injector: Injector,\n              private _breakpointObserver: BreakpointObserver) {\n  }\n\n  public create(component: ComponentType<any>, container: Element, config?: any) {\n    const overlayRef = this.createOverlay(container);\n    const dataFactory = DrawerData.createWithProxy(config.data);\n    const menuRef = new DrawerMenuRef(overlayRef, dataFactory);\n    const containerRef = this.attachContainer(overlayRef, menuRef, dataFactory);\n    const componentRef = this.attachComponent(component, containerRef, menuRef, dataFactory);\n    menuRef.containerRef = containerRef;\n    containerRef.setDrawerMenuRef(menuRef);\n\n    menuRef.componentRef = componentRef;\n\n    return menuRef;\n  }\n\n  private createOverlay(container: Element): OverlayRef {\n    const overlayConfig = this.getOverlayConfig(container);\n    return this._overlay.create(overlayConfig);\n  }\n\n  private getOverlayConfig(container: Element): OverlayConfig {\n    const element = new ElementRef(container); // positionStrategy needs ElementRef;\n\n    let strategy = null;\n    if (this._breakpointObserver.isMatched(Breakpoints.XSmall)) {\n      strategy = this._overlay\n        .position()\n        .global()\n        .centerHorizontally()\n        .centerVertically();\n    } else {\n      const positions: ConnectedPosition[] = [\n        { originX: 'start', originY: 'bottom', overlayX: 'start', overlayY: 'top' }\n      ];\n      strategy = this._overlay\n        .position()\n        .flexibleConnectedTo(element)\n        .withPositions(positions);\n    }\n\n    return new OverlayConfig({\n      positionStrategy: strategy,\n      scrollStrategy:  this._overlay.scrollStrategies.reposition(),\n      hasBackdrop: true,\n      backdropClass: 'cdk-overlay-transparent-backdrop'\n    });\n  }\n\n  private attachContainer<T, R>(overlayRef: OverlayRef, menuRef: DrawerMenuRef<T, R>, dataFactory: DrawerData) {\n    const injector = this.createInjector(menuRef, dataFactory);\n    const containerPortal = new ComponentPortal(FsDrawerMenuComponent, undefined, injector);\n    const containerRef = overlayRef.attach<FsDrawerMenuComponent>(containerPortal);\n\n    return containerRef.instance;\n  }\n\n  private attachComponent<T, R>(\n    componentRef: ComponentType<T>,\n    externalContainer: FsDrawerMenuComponent,\n    externalRef: DrawerMenuRef<T, R>,\n    config: any,\n  ) {\n\n    const injector = this.createInjector(externalRef, config);\n\n    return externalContainer.attachComponentPortal<T>(\n      new ComponentPortal<T>(componentRef, undefined, injector)\n    );\n  }\n\n\n  private createInjector(componentRef, dataFactory: DrawerData) {\n    const injectionTokens = new WeakMap<any, any>([\n      [DrawerMenuRef, componentRef],\n      [DRAWER_MENU_DATA, dataFactory]\n    ]);\n\n    return new PortalInjector(this._injector, injectionTokens);\n  }\n}\n","import {\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\nimport { FsDrawerAction } from '../../helpers/action-type.enum';\nimport { DrawerRef } from '../../classes/drawer-ref';\nimport { Action } from '../../models/action.model';\nimport { FsDrawerMenuService } from '../../services/drawer-menu.service';\n\n\n@Component({\n  selector: 'fs-drawer-actions',\n  templateUrl: './drawer-actions.component.html',\n  styleUrls: [ './drawer-actions.component.scss' ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FsDrawerActionsComponent implements OnInit, OnDestroy {\n  @Input() public actions: Action[];\n  @Input() public activeAction: string;\n\n  private _destroy$ = new Subject<void>();\n\n  constructor(\n    private _drawerRef: DrawerRef<any>,\n    private _drawerMenu: FsDrawerMenuService,\n    private _cdRef: ChangeDetectorRef,\n  ) {}\n\n  public ngOnInit() {\n  }\n\n  public ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  public actionClick(action, event) {\n    const hasComponentType = action.type === FsDrawerAction.Component;\n    const hasMenuType = action.type === FsDrawerAction.Menu;\n\n    if (hasComponentType) {\n      const menuRef = this._drawerMenu.create(action.component, event.srcElement, action);\n\n      this._drawerRef.addMenuRef(action.menuRefName, menuRef);\n\n      const params = {\n        event: event,\n        action: action,\n        drawerRef: this._drawerRef,\n        menuRef: menuRef\n      };\n      // Call click\n      action.click.call(null, params);\n\n      if (action.closeSide) {\n        this._drawerRef.closeSide();\n      }\n    } else if (action.click) {\n      const params = { event: event, action: action };\n      action.click.call(null, params);\n    }\n\n    if (action.close) {\n      this._drawerRef.close();\n    }\n\n    if (action.toggle && ((!hasComponentType && !hasMenuType) || action.closeSide)) {\n      if (this._drawerRef.isSideOpen && this._drawerRef.activeAction === action.name) {\n        this._drawerRef.toggleSide();\n      } else {\n        this._drawerRef.setActiveAction(action.name);\n      }\n    }\n  }\n\n}\n","import { Injectable, NgZone, OnDestroy } from '@angular/core';\n\nimport { fromEvent, Subject } from 'rxjs';\nimport { debounceTime, delay, takeUntil } from 'rxjs/operators';\n\nimport { DrawerRef } from '../classes/drawer-ref';\nimport { FsDrawerResizerDirective } from '../directives/drawer-resizer.directive';\nimport { IDrawerWidthDefinition } from '../interfaces/drawer-config.interface';\n\nconst MAIN_DRAWER_DEFAULT_WIDTH = 500;\nconst SIDE_DRAWER_DEFAULT_WIDTH = 200;\nconst SIDE_RESIZE_BAR_WIDTH = 25;\nconst MAIN_RESIZE_ACTION_BAR_WIDTH = 40;\n\n@Injectable()\nexport class DrawerSizeController implements OnDestroy {\n\n  private _mainElRef: FsDrawerResizerDirective;\n  private _sideElRef: FsDrawerResizerDirective;\n\n  private _mainConfig: IDrawerWidthDefinition;\n  private _sideConfig: IDrawerWidthDefinition;\n\n  private _sideOpened = false;\n  private _screenWidth: number;\n\n  private readonly _borderPadding = 0;\n\n  private _destroy$ = new Subject<void>();\n\n  constructor(\n    private _drawerRef: DrawerRef<any>,\n    private _ngZone: NgZone,\n  ) {\n    this._initDefaultConfigs();\n    this._updateScreenWidth();\n    this._listenWindowResize();\n    this._listenSideToggle();\n  }\n\n  public get mainElRef() {\n    return this._mainElRef;\n  }\n\n  public get sideElRef() {\n    return this._sideElRef;\n  }\n\n  public get mainConfig(): IDrawerWidthDefinition {\n    return this._mainConfig;\n  }\n\n  public get sideConfig(): IDrawerWidthDefinition {\n    return this._sideConfig;\n  }\n\n  public get screenWidth(): number {\n    return this._screenWidth;\n  }\n\n  public ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  public registerElRef(el: FsDrawerResizerDirective) {\n    if (el.type === 'main') {\n      this._registerMainRef(el);\n    } else if (el.type === 'side') {\n      this._registerSideRef(el);\n    } else {\n      throw Error('Unrecognized resize element type')\n    }\n  }\n\n  public getInitialWidth(type: 'main' | 'side'): number {\n    if (type === 'main') {\n      return this.mainConfig.initial;\n    } else if (type === 'side') {\n      return this.sideConfig.initial;\n    } else {\n      return void 0;\n    }\n  }\n\n  public getMinWidth(type: 'main' | 'side'): number {\n    if (type === 'main') {\n      return this.mainConfig.min;\n    } else if (type === 'side') {\n      return this.sideConfig.min;\n    } else {\n      return void 0;\n    }\n  }\n\n  public getMaxWidth(type: 'main' | 'side'): number {\n    if (type === 'main') {\n      return this.mainConfig.max;\n    } else if (type === 'side') {\n      return this.sideConfig.max;\n    } else {\n      return void 0;\n    }\n  }\n\n  /**\n   * Update width from outside with all calculations to be done\n   * @param width\n   */\n  public updateMainWidth(width: number) {\n    const sideWidth = (this.sideElRef && this.sideElRef.width) || 0;\n    this.mainElRef.updateWidth(sideWidth + width);\n  }\n\n  /**\n   * Update width from outside with all calculations to be done\n   * @param width\n   */\n  public updateSideWidth(width: number) {\n    if (this.sideElRef) {\n      const currentWidth = this.mainElRef.width - this.sideElRef.width;\n      this.mainElRef.updateWidth(currentWidth + width);\n      this.sideElRef.updateWidth(width);\n    }\n  }\n\n  /**\n   * Push current drawer to be visible under new one opened\n   * @param inFrontDrawer\n   */\n  public pushMainWidth(inFrontDrawer: DrawerRef<any>) {\n    const inFrontDrawerTotalWidth = inFrontDrawer.resizeController.mainElRef.width + MAIN_RESIZE_ACTION_BAR_WIDTH;\n\n    if (this.mainElRef.width <= inFrontDrawerTotalWidth) {\n      this.updateMainWidth(inFrontDrawerTotalWidth);\n    }\n  }\n\n  /**\n   * Listen for browser resize and update restrictions\n   */\n  private _listenWindowResize() {\n    this._ngZone.runOutsideAngular(() => {\n      fromEvent(window, 'resize')\n        .pipe(\n          debounceTime(50),\n          takeUntil(this._destroy$),\n        )\n        .subscribe(() => {\n          this._updateScreenWidth();\n          this._updateMinMaxStyles();\n        });\n    });\n  }\n\n  /**\n   * Copy initial configs or set default values\n   */\n  private _initDefaultConfigs() {\n    this._mainConfig =\n      (this._drawerRef.drawerConfig.width && this._drawerRef.drawerConfig.width.main)\n      || {};\n\n    this._mainConfig.initial = this._mainConfig.initial || MAIN_DRAWER_DEFAULT_WIDTH;\n\n    this._sideConfig =\n      (this._drawerRef.drawerConfig.width && this._drawerRef.drawerConfig.width.side)\n      || {};\n\n    this._sideConfig.initial = this._sideConfig.initial || SIDE_DRAWER_DEFAULT_WIDTH;\n  }\n\n  private _registerMainRef(el: FsDrawerResizerDirective) {\n    this._mainElRef = el;\n  }\n\n  private _registerSideRef(el: FsDrawerResizerDirective) {\n    this._sideElRef = el;\n  }\n\n  /**\n   * Update current window size\n   */\n  private _updateScreenWidth(): void {\n    this._screenWidth = (window.innerWidth - this._borderPadding);\n  }\n\n  /**\n   * Update min&max css props for containers\n   */\n  private _updateMinMaxStyles(): void {\n    this.mainElRef.setMinMaxStyles();\n\n    if (this.sideElRef) {\n      this.sideElRef.setMinMaxStyles();\n    }\n  }\n\n  private _listenSideToggle(): void {\n    this._drawerRef.sideToggle$\n      .pipe(\n        takeUntil(this._destroy$),\n      )\n      .subscribe((opened: boolean) => {\n        if (this._sideOpened === opened) {\n          return;\n        }\n\n        this._sideOpened = opened;\n\n        if (opened) {\n          const currentWidth = this.mainElRef.width;\n          const sideWidth = this.getInitialWidth('side');\n\n          this._mainElRef.updateWidth(currentWidth + sideWidth + SIDE_RESIZE_BAR_WIDTH);\n        } else {\n          const actualSideWidth = this.sideElRef.fsDrawerResizer.getBoundingClientRect().width;\n          const mainWidth = this.mainElRef.width - actualSideWidth - SIDE_RESIZE_BAR_WIDTH;\n\n          this._mainElRef.updateWidth(mainWidth);\n        }\n      })\n  }\n}\n","import {\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EmbeddedViewRef,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport {\n  BasePortalOutlet,\n  CdkPortalOutlet,\n  ComponentPortal,\n  TemplatePortal,\n} from '@angular/cdk/portal';\n\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { DrawerRef } from '../../classes/drawer-ref';\nimport { DrawerConfig } from '../../models/drawer-config.model';\nimport { FsDrawerMenuService } from '../../services/drawer-menu.service';\nimport { DrawerSizeController } from '../../classes/drawer-size-controller';\n\n\n@Component({\n  selector: 'fs-drawer',\n  templateUrl: './drawer.component.html',\n  providers: [\n    FsDrawerMenuService,\n    DrawerSizeController,\n  ],\n  host: {\n    'class': 'fs-drawer-container',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FsDrawerComponent extends BasePortalOutlet implements OnInit, OnDestroy {\n\n  public config: DrawerConfig;\n  public isOpen = false;\n  public isOpenSide = false;\n\n  public drawerRef: DrawerRef<any>;\n\n  public initialized = false;\n\n  @ViewChild(CdkPortalOutlet, { static: true })\n  private _portalOutlet: CdkPortalOutlet;\n\n  @ViewChild('drawerContentContainer', { static: true })\n  private _drawerContentContainer: ElementRef;\n\n  @ViewChild('drawerActionsContainer', { read: ElementRef, static: true })\n  private _drawerActionsContainer: ElementRef;\n\n  private _sideOpen = false;\n  private _destroy$ = new Subject();\n\n  constructor(\n    private _el: ElementRef<HTMLElement>,\n    private _drawerMenu: FsDrawerMenuService,\n    private _drawerRef: DrawerRef<any>,\n    private _cdRef: ChangeDetectorRef,\n    private _resizeController: DrawerSizeController,\n  ) {\n    super();\n\n    this._drawerRef.resizeController = this._resizeController;\n  }\n\n  public get sideOpen() {\n    return this._sideOpen;\n  }\n\n  public set sideOpen(value: boolean) {\n    this._sideOpen = value;\n\n    this._el.nativeElement.classList\n      .toggle('side-open', this.sideOpen);\n  }\n\n  public ngOnInit() {\n    this._listenDataChanges();\n  }\n\n  public ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  public open() {\n    this.isOpen = true;\n  }\n\n  public close() {\n    this.isOpen = false;\n  }\n\n  public openSide() {\n    this.isOpenSide = true;\n  }\n\n  public closeSide() {\n    this.isOpenSide = false;\n  }\n\n  public setDrawerRef(value: DrawerRef<any>) {\n    this.drawerRef = value;\n\n    this.config = this.drawerRef.drawerConfig;\n\n    // Need to be like a parent for children resize\n    this.drawerRef.drawerContentContainer = this._drawerContentContainer;\n    this.drawerRef.drawerActionsContainer = this._drawerActionsContainer;\n\n    this.drawerRef.sideToggle$\n      .pipe(\n        takeUntil(this._destroy$),\n      )\n      .subscribe((opened) => {\n        this.sideOpen = opened;\n      });\n\n    this.initialized = true;\n  }\n\n  /**\n   * Attach a ComponentPortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  public attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    if (this._portalOutlet.hasAttached()) {\n      throw Error('Drawer component already attached');\n    }\n\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  /**\n   * Attach a TemplatePortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  public attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    if (this._portalOutlet.hasAttached()) {\n      throw Error('Drawer template already attached');\n    }\n\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n\n  private _listenDataChanges() {\n    this._drawerRef.dataChanged$\n      .pipe(\n        takeUntil(this._destroy$)\n      )\n      .subscribe(() => {\n        this._cdRef.detectChanges();\n      });\n  }\n}\n","import { Directive, Input, } from '@angular/core';\n\n@Directive({\n  selector: '[fsDrawerAction]',\n})\nexport class FsDrawerActionDirective {\n\n  @Input('fsDrawerAction') public name: string;\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { DrawerRef } from '../../classes/drawer-ref';\nimport { FsDrawerActionDirective } from '../../directives/drawer-action.directive';\n\n\n@Component({\n  selector: '[fsDrawerSide]',\n  templateUrl: './drawer-side.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [\n    './drawer-side.component.scss',\n  ],\n})\nexport class FsDrawerSideComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @Input('fsDrawerSide') public drawer: DrawerRef<any>;\n\n  @HostBinding('class.side') public classSide = true;\n\n  @ContentChildren(FsDrawerActionDirective) actions: QueryList<FsDrawerActionDirective>;\n\n  @ContentChildren(FsDrawerActionDirective, { read: TemplateRef })\n  actionsTemplates: QueryList<TemplateRef<any>>;\n\n  public activeTemplate: TemplateRef<any> = null;\n\n  private _hidden = false;\n  private _destroy$ = new EventEmitter();\n\n  constructor(\n    private _cdRef: ChangeDetectorRef,\n    private _renderer: Renderer2,\n    private _elRef: ElementRef,\n  ) {}\n\n  public set hidden(value: boolean) {\n    this._hidden = value;\n\n    if (this._hidden) {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'hidden', 'true');\n    } else {\n      this._renderer.removeAttribute(this._elRef.nativeElement, 'hidden');\n    }\n  }\n  public ngOnInit() {\n\n    this.hidden = true;\n\n    if (!this.drawer) {\n      console.error('Drawer reference is null for @Input(\"fsDrawerSide\")');\n    }\n\n    this._subscribeToActionChanges();\n  }\n\n  public ngAfterViewInit() {\n    setTimeout(() => {\n      // Check current side status\n      if (this.drawer) {\n        this.hidden = !this.drawer.isSideOpen;\n      }\n\n      this._updateActiveActionTemplate();\n    });\n  }\n\n  public ngOnDestroy() {\n    this._destroy$.emit();\n    this._destroy$.complete();\n  }\n\n  private _subscribeToActionChanges() {\n    if (this.drawer) {\n      this.drawer.sideToggle$\n        .pipe(\n          takeUntil(this._destroy$),\n        )\n        .subscribe(() => {\n          this.hidden = !this.drawer.isSideOpen;\n          this._updateActiveActionTemplate();\n\n          this._cdRef.detectChanges();\n        });\n    }\n  }\n\n  private _updateActiveActionTemplate() {\n    if (this.drawer) {\n      const activatedAction = this.drawer.activeAction;\n\n      if (this.drawer.isSideOpen && activatedAction) {\n        const selectedActionIndex = this.actions\n          .toArray()\n          .findIndex((action) => action.name === activatedAction);\n\n        this.activeTemplate = this.actionsTemplates.toArray()[selectedActionIndex];\n      } else {\n        this.activeTemplate = null;\n      }\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component, EventEmitter,\n  Input,\n  OnChanges, OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { Subject } from 'rxjs';\nimport { debounceTime, filter, takeUntil } from 'rxjs/operators';\n\nimport { DrawerRef } from '../../../classes/drawer-ref';\nimport { FsDrawerAction } from '../../../helpers/action-type.enum';\nimport { Action } from '../../../models/action.model';\n\n\n@Component({\n  selector: 'fs-drawer-action-item',\n  templateUrl: './drawer-action-item.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FsDrawerActionItemComponent implements OnInit, OnChanges {\n  @Input()\n  public action: Action;\n\n  @Input()\n  public activeAction: string;\n\n  @Output()\n  public actionClicked = new EventEmitter();\n\n  public isActive = false;\n  public actionTypes = FsDrawerAction;\n\n  private _destroy$ = new Subject<void>();\n\n  constructor(\n    public drawer: DrawerRef<any>,\n    private _cdRef: ChangeDetectorRef,\n  ) {\n    this._listenActionChanges();\n    this._listenDataChanges();\n  }\n\n  public ngOnInit(): void {\n    this._updateVisibilityAndLinks();\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeAction) {\n      this.isActive = this.action.name !== '' && this.action.name === this.activeAction;\n    }\n  }\n\n  public actionClick(event) {\n    this.actionClicked.emit(event);\n  }\n\n  public menuActionClick(action, event) {\n    if (action.click) {\n      action.click.call(null, {\n        data: this.drawer.drawerData,\n        event: event,\n        drawerRef: this.drawer,\n        action: action\n      });\n    }\n  }\n\n  private _listenActionChanges() {\n    this.drawer.actionUpdated$\n      .pipe(\n        filter((name) => name === this.action.name),\n        takeUntil(this._destroy$),\n      )\n      .subscribe(() => {\n        this._cdRef.detectChanges();\n      })\n  }\n\n  private _listenDataChanges() {\n    this.drawer.dataChanged$\n      .pipe(\n        takeUntil(this._destroy$),\n        debounceTime(50),\n      )\n      .subscribe(() => {\n        this._updateVisibilityAndLinks();\n      });\n  }\n\n\n  private _updateVisibilityAndLinks() {\n    this._updateVisibility();\n    this._updateRouterLinks();\n\n    this._cdRef.detectChanges();\n  }\n\n  private _updateVisibility() {\n    this.action.checkVisibility(this.drawer.drawerData);\n  }\n\n  private _updateRouterLinks() {\n    if (this.action.type === this.actionTypes.Menu) {\n      this.action.updateRouterLink({\n        data: this.drawer.drawerData,\n        drawerRef: this.drawer\n      });\n    }\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: '[fsDrawerContent]',\n  template: '<div class=\"content\"><ng-content></ng-content></div>',\n  host: {\n    'class': 'content-container'\n  }\n})\nexport class FsDrawerContentComponent {}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { DrawerSizeController } from '../classes/drawer-size-controller';\n\n\n@Directive({\n  selector: '[fsDrawerResizer]',\n  host: {\n    '[style.cursor]': '\"col-resize\"',\n  }\n})\nexport class FsDrawerResizerDirective implements OnInit, OnDestroy {\n\n  @Input() public fsDrawerResizer = this._el.nativeElement;\n  @Input() public type: 'main' | 'side';\n  @Input() public direction = 'left';\n  @Input() public resizable = true;\n  @Input() public parentContainer: ElementRef;\n  @Input() public actionsContainer: ElementRef;\n  @Input() public sizeController: DrawerSizeController;\n\n  private _dragStartHandler = this._dragStart.bind(this);\n  private _dragHandler = this._drag.bind(this);\n  private _dragEndHandler = this._dragEnd.bind(this);\n\n  private _x = 0;\n  private _width = 0;\n  private _actionsWidth = 0;\n\n  private _destroy$ = new Subject();\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    private _ngZone: NgZone,\n  ) {}\n\n  public get width(): number {\n    return this._width;\n  }\n\n  private get minWidth(): number {\n    const minWidth = this.sizeController.getMinWidth(this.type);\n\n    if (minWidth && minWidth >= 0) {\n      if (minWidth > this.sizeController.screenWidth) {\n        return this.sizeController.screenWidth;\n      } else {\n        return minWidth;\n      }\n    }\n  }\n\n  private get maxWidth(): number {\n    const maxWidth = this.sizeController.getMaxWidth(this.type);\n    let parentContainerWidth = null;\n\n    if (this.parentContainer) {\n      parentContainerWidth = this._getElementWidth(this.parentContainer.nativeElement);\n    }\n\n    if (parentContainerWidth !== null) {\n      return !maxWidth || maxWidth >= parentContainerWidth\n        ? parentContainerWidth - this._actionsWidth * 2\n        : maxWidth;\n    } else {\n      return !maxWidth || maxWidth >= this.sizeController.screenWidth\n        ? this.sizeController.screenWidth\n        : maxWidth;\n    }\n  }\n\n  public ngOnInit() {\n\n    this.sizeController.registerElRef(this);\n\n    if (this.resizable) {\n      this._ngZone.runOutsideAngular(() => {\n        this._el.nativeElement.addEventListener('mousedown', this._dragStartHandler, false);\n        this._el.nativeElement.addEventListener('touchstart', this._dragStartHandler, false);\n      });\n\n      if (this.actionsContainer) {\n        this._actionsWidth = this._getElementWidth(this.actionsContainer.nativeElement)\n      }\n\n      this.setMinMaxStyles();\n\n      const minWidth = this.sizeController.getMinWidth(this.type);\n      let width = this.sizeController.getInitialWidth(this.type)\n        || this._getElementWidth(this.fsDrawerResizer);\n\n      if (width < minWidth) {\n        width = minWidth;\n      }\n\n      this.updateWidth(width);\n    }\n  }\n\n  public updateWidth(width) {\n    this._width = width;\n\n    requestAnimationFrame(() => {\n      this._renderer.setStyle(this.fsDrawerResizer, 'width', `${width}px`);\n    });\n  }\n\n  public ngOnDestroy() {\n    this._el.nativeElement.removeEventListener('mousedown', this._dragStartHandler, false);\n    this._el.nativeElement.removeEventListener('touchstart', this._dragStartHandler, false);\n\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  /**\n   * Set inline styles min/max width\n   */\n  public setMinMaxStyles() {\n    requestAnimationFrame(() => {\n      this._renderer.setStyle(this.fsDrawerResizer, 'min-width', `${this.minWidth}px`);\n      this._renderer.setStyle(this.fsDrawerResizer, 'max-width', `${this.maxWidth}px`)\n    });\n  }\n\n  /**\n   * Subscribe to move events and init base dimensions/restrictions\n   * @param event { MouseEvent }\n   */\n  private _dragStart(event: MouseEvent) {\n\n    this._x = this._getClientX(event);\n    this._width = this._getElementWidth(this.fsDrawerResizer);\n\n    this.setMinMaxStyles();\n\n    document.addEventListener('touchmove', this._dragHandler, false);\n    document.addEventListener('touchend', this._dragEndHandler, false);\n\n    document.addEventListener('mousemove', this._dragHandler, false);\n    document.addEventListener('mouseup', this._dragEndHandler, false);\n  }\n\n  /**\n   * Update coordinates during drag\n   * @param event\n   */\n  private _drag(event: MouseEvent) {\n    const clientX = this._getClientX(event);\n\n    const predictedWidth = this._calcWidth(this.direction, clientX);\n\n    this._updatePosition(clientX, predictedWidth);\n    this._emitResizeEvent();\n  }\n\n  /**\n   * Remove listeners when drag finished\n   * @param event\n   */\n  private _dragEnd(event: MouseEvent) {\n    document.removeEventListener('mousemove', this._dragHandler, false);\n    document.removeEventListener('mouseup', this._dragEndHandler, false);\n    document.removeEventListener('touchmove', this._dragHandler, false);\n    document.removeEventListener('touchend', this._dragEndHandler, false);\n  }\n\n  /**\n   *\n   * @param event\n   */\n  private _getClientX(event) {\n    return event.touches ? event.touches[0].clientX : event.clientX;\n  }\n\n  /**\n   * Will return width of element\n   * @param el\n   */\n  private _getElementWidth(el) {\n    return el.getBoundingClientRect().width;\n  }\n\n  /**\n   * Update width and position of target element\n   * @param clientX\n   * @param width\n   */\n  private _updatePosition(clientX: number, width: number) {\n    this._x = clientX;\n    this.updateWidth(width < 0 ? 0 : width)\n  }\n\n  /**\n   * Calc new width based on offset from previous position\n   * @param direction\n   * @param clientX\n   */\n  private _calcWidth(direction, clientX) {\n    const directionSign = direction === 'left' ? -1 : 1;\n\n    return this._width + (this._x - clientX) * directionSign;\n  }\n\n  /**\n   * Resize event for Window\n   */\n  private _emitResizeEvent() {\n    const resizeEvent = window.document.createEvent('UIEvents');\n    resizeEvent.initEvent('resize', true, false);\n\n    window.dispatchEvent(resizeEvent);\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\n/** Injection token that can be used to access the data that was passed in to a drawer. */\nexport const DRAWER_DATA = new InjectionToken<any>('DrawerData');\n","import { Injectable, Injector, OnDestroy, Optional, SkipSelf } from '@angular/core';\nimport { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType, PortalInjector } from '@angular/cdk/portal';\n\nimport { Subject, merge } from 'rxjs';\nimport { take, takeUntil, delay } from 'rxjs/operators';\n\nimport { FsDrawerComponent } from '../components/drawer/drawer.component';\nimport { DrawerRef } from '../classes/drawer-ref';\nimport { DrawerData } from '../classes/drawer-data';\nimport { IDrawerConfig } from '../interfaces/drawer-config.interface';\nimport { DRAWER_DATA } from './drawer-data';\n\n\n@Injectable()\nexport class FsDrawerService implements OnDestroy {\n\n  private _drawerRefs = new Set<DrawerRef<any>>();\n  private _destroy$ = new Subject();\n\n  constructor(\n    @Optional() @SkipSelf() private _parentDrawerService: FsDrawerService,\n    private _overlay: Overlay,\n    private _injector: Injector) {\n  }\n\n  public ngOnDestroy() {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  public open<TData = any>(component: ComponentType<any>, config?: IDrawerConfig<TData>) {\n    const overlayRef = this._createOverlay();\n\n    const dataFactory = DrawerData.createWithProxy(config.data);\n    const drawerRef = new DrawerRef(overlayRef, dataFactory, config);\n\n    const containerRef = this._attachDrawerContainer(overlayRef, drawerRef, dataFactory);\n    const componentRef = this._attachComponent(component, containerRef, drawerRef, dataFactory);\n\n    drawerRef.containerRef = containerRef;\n    containerRef.setDrawerRef(drawerRef);\n\n    drawerRef.componentRef = componentRef;\n\n    drawerRef.events();\n    drawerRef.open();\n\n    this._storeDrawerRef(drawerRef);\n\n    merge(\n      drawerRef.afterOpened$,\n      drawerRef.afterClosed$\n    )\n    .pipe(\n      takeUntil(this._destroy$)\n    )\n    .subscribe(() => {\n      setTimeout(() => {\n        this._applyBackdrop();\n        this._applyBodyOpenClass();\n      });\n    });\n\n    return drawerRef;\n  }\n\n  public closeAll() {\n    this._drawerRefs.forEach((ref) => ref.close());\n\n    if (this._parentDrawerService) {\n      this._parentDrawerService.closeAll();\n    }\n  }\n\n  private _applyBackdrop() {\n    Array.from(this._drawerRefs)\n    .forEach((drawerRef, index) => {\n      const backdrop = drawerRef.overlayRef.backdropElement;\n\n      if (backdrop) {\n        if (index && index === (this._drawerRefs.size - 1)) {\n          backdrop.classList.add('fs-drawer-backdrop-active');\n        } else {\n          backdrop.classList.remove('fs-drawer-backdrop-active');\n        }\n      }\n    });\n  }\n\n  private _applyBodyOpenClass() {\n    if (this._drawerRefs.size) {\n      document.body.classList.add('fs-drawer-open');\n    } else {\n      document.body.classList.remove('fs-drawer-open');\n    }\n  }\n\n  private _storeDrawerRef(ref) {\n    this._drawerRefs.add(ref);\n\n    this._pushDrawersCascade();\n\n    ref.destroy$\n      .pipe(\n        take(1),\n        takeUntil(this._destroy$),\n      )\n      .subscribe(() => {\n        this._drawerRefs.delete(ref);\n      });\n  }\n\n  /**\n   * In case, when we want to open more than 1 drawer\n   * our previously opened drawers should be visible\n   *\n   *      d1   d2   d3\n   *     ---- ---- ---\n   *    | x  | x1 | x2\n   *    | y  | y1 | y2\n   *    | z  | z1 | z2\n   *     ---- ---- ---\n   *\n   * Where d1, d2 - previously opened drawers\n   * d1 and d2 must be pushed left to be visible under just opened d3\n   */\n  private _pushDrawersCascade() {\n    if (this._drawerRefs.size > 1) {\n      // SetTimeout should be here because we must wait render newly opened drawer\n      // to be able to get his width\n      setTimeout(() => {\n        const refsArr = Array.from(this._drawerRefs.values());\n\n        for (let i = refsArr.length - 1; i > 0; i--) {\n          const prevRef = refsArr[i - 1];\n          const currRef = refsArr[i];\n\n          prevRef.resizeController.pushMainWidth(currRef);\n        }\n      })\n    }\n  }\n\n  private _createOverlay(): OverlayRef {\n    const overlayConfig = this._getOverlayConfig();\n    return this._overlay.create(overlayConfig);\n  }\n\n  private _getOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      hasBackdrop: true,\n      backdropClass: 'fs-drawer-backdrop'\n    });\n  }\n\n  private _attachDrawerContainer<T, R>(\n    overlayRef: OverlayRef,\n    drawerRef: DrawerRef<T, R>,\n    dataFactory: DrawerData\n  ) {\n    const injector = this._createInjector(drawerRef, dataFactory);\n    const containerPortal = new ComponentPortal(FsDrawerComponent, undefined, injector);\n    const containerRef = overlayRef.attach<FsDrawerComponent>(containerPortal);\n\n    return containerRef.instance;\n  }\n\n  private _attachComponent<T, R>(\n    componentRef: ComponentType<T>,\n    drawerContainer: FsDrawerComponent,\n    drawerRef: DrawerRef<T, R>,\n    dataFactory: DrawerData,\n  ) {\n\n    const injector = this._createInjector(drawerRef, dataFactory);\n\n    return drawerContainer.attachComponentPortal<T>(\n      new ComponentPortal<T>(componentRef, undefined, injector)\n    );\n  }\n\n\n  private _createInjector(componentRef, dataFactory) {\n    const injectionTokens = new WeakMap<any, any>([\n      [DrawerRef, componentRef],\n      [DRAWER_DATA, dataFactory]\n    ]);\n\n    return new PortalInjector(this._injector, injectionTokens);\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { FsMenuModule } from '@firestitch/menu';\n\nimport { FsDrawerActionsComponent } from './components/drawer-actions/drawer-actions.component';\nimport { FsDrawerComponent } from './components/drawer/drawer.component';\nimport { FsDrawerSideComponent } from './components/drawer-side/drawer-side.component';\nimport { FsDrawerMenuComponent } from './components/drawer-menu/drawer-menu.component';\nimport { FsDrawerActionItemComponent } from './components/drawer-actions/drawer-action-item/drawer-action-item.component';\n\nimport { FsDrawerContentComponent } from './components/drawer-content/drawer-content.component';\nimport { FsDrawerActionDirective } from './directives/drawer-action.directive';\n\nimport { FsDrawerResizerDirective } from './directives/drawer-resizer.directive';\nimport { FsDrawerService } from './services/drawer.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTooltipModule,\n    MatButtonModule,\n    MatIconModule,\n    OverlayModule,\n    PortalModule,\n    FsMenuModule,\n    MatMenuModule,\n  ],\n  exports: [\n    FsDrawerComponent,\n    FsDrawerSideComponent,\n    FsDrawerContentComponent,\n    FsDrawerActionDirective,\n    FsDrawerResizerDirective,\n  ],\n  declarations: [\n    FsDrawerSideComponent,\n    FsDrawerComponent,\n    FsDrawerActionsComponent,\n    FsDrawerActionItemComponent,\n    FsDrawerContentComponent,\n    FsDrawerActionDirective,\n    FsDrawerResizerDirective,\n    FsDrawerMenuComponent,\n  ],\n  providers: [FsDrawerService],\n})\nexport class FsDrawerModule {}\n","/*\n * Public API Surface of fs-menu\n */\n\nexport { FsDrawerModule } from './app/fs-drawer.module';\n\nexport { FsDrawerComponent } from './app/components/drawer/drawer.component';\nexport { FsDrawerSideComponent } from './app/components/drawer-side/drawer-side.component';\nexport { FsDrawerContentComponent } from './app/components/drawer-content/drawer-content.component';\nexport { FsDrawerActionDirective } from './app/directives/drawer-action.directive';\nexport { FsDrawerResizerDirective } from './app/directives/drawer-resizer.directive';\n\nexport { FsDrawerService } from './app/services/drawer.service';\nexport { DRAWER_DATA } from './app/services/drawer-data';\nexport { DRAWER_MENU_DATA } from './app/services/drawer-menu-data';\n\nexport { DrawerRef } from './app/classes/drawer-ref';\nexport { DrawerMenuRef } from './app/classes/drawer-menu-ref';\n\nexport { DrawerData } from './app/classes/drawer-data';\n\nexport { IDrawerConfig } from './app/interfaces/drawer-config.interface';\nexport { DrawerDataProxy } from './app/interfaces/drawer-data.interface';\nexport { IFsDrawerActionConfig } from './app/interfaces/action.iterface';\n\nexport { FsDrawerAction } from './app/helpers/action-type.enum';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {DrawerSizeController as Éµb} from './app/classes/drawer-size-controller';\nexport {FsDrawerActionItemComponent as Éµd} from './app/components/drawer-actions/drawer-action-item/drawer-action-item.component';\nexport {FsDrawerActionsComponent as Éµc} from './app/components/drawer-actions/drawer-actions.component';\nexport {FsDrawerMenuComponent as Éµe} from './app/components/drawer-menu/drawer-menu.component';\nexport {FsDrawerMenuService as Éµa} from './app/services/drawer-menu.service';"],"names":[],"mappings":"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"}